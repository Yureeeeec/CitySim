# üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ CitySim

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (C4 Level 2)
```mermaid
graph TD
    A[–ê–Ω–∞–ª–∏—Ç–∏–∫] --> B[–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å]
    B --> C[API Gateway]
    C --> D[Auth Service]
    C --> E[Project DB]
    C --> F[Calculation Core]
    F --> G[File Parser]
    G --> H[Raw Data Storage]
```
## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Frontend)
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** React / Next.js

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–ª–æ–µ–≤
- –†–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å drag-and-drop
- –ü–∞–Ω–µ–ª—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### 2. API Gateway
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** FastAPI (Python)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- RESTful API —Å OpenAPI 3.0 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Auth0 / Keycloak

### 3. –Ø–¥—Ä–æ —Ä–∞—Å—á–µ—Ç–æ–≤
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Python 3.10, Pandas, NetworkX

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—É—Ç–∏
- –ê–Ω–∞–ª–∏–∑ –∑–æ–Ω –ø–æ–∫—Ä—ã—Ç–∏—è
- –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–ø–æ—Ç–æ–∫–æ–≤

### 4. –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                              |
|------------------|----------------|------------------------------------------|
| –û—Å–Ω–æ–≤–Ω–∞—è –ë–î       | PostgreSQL 14  | –°—Ü–µ–Ω–∞—Ä–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ       |
| –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ| MinIO          | –ò—Å—Ö–æ–¥–Ω—ã–µ GTFS / CSV —Ñ–∞–π–ª—ã                |
| –ö—ç—à               | Redis          | –°–µ—Å—Å–∏–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã             |

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
**–Ø–∑—ã–∫–∏:** Python 3.10+

**–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- FastAPI –¥–ª—è API
- SQLAlchemy –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

**–°–£–ë–î:** PostgreSQL —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º PostGIS  
**–û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á:** Celery + RabbitMQ

### Frontend
**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- React 18 + TypeScript
- Deck.gl –¥–ª—è –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Chart.js –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤




